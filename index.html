<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Fortify API</title>

        <link rel="stylesheet" href="https://target.github.io/fortifyapi/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://target.github.io/fortifyapi/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://target.github.io/fortifyapi/css/highlight.dark.css">
        <link rel="stylesheet" href="https://target.github.io/fortifyapi/css/main.css">
    </head>
    <body>

        <header class="navbar navbar-default navbar-fixed-top">

            <a class="navbar-brand" href="https://target.github.io/fortifyapi/">
                Fortify API
                <small class="hidden-xs hidden-sm">
                    A python module for the Fortify API
                </small>
            </a>

                            <a href="https://github.com/target/fortifyapi">
                    <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
                </a>
            
        </header>

        <main class="container">
            <div class="row">

                
                <section id="content" class="col-sm-12">
                    <h1 id="fortify-api-documentation">Fortify API Documentation</h1>
<p>The fortify-api module contains a class that wraps the Fortify RESTful calls in a response object.  The class FortifyApi contains a set of prepared <code>GET</code> and <code>POST</code> calls.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<p><a href="#constructor">Constructor</a></p>
<p><a href="#response-object">Response Object</a></p>
<p><a href="#methods">Methods</a></p>
<ul>
<li><a href="#add-project-version-attribute">add project version attribute: <code>add_project_version_attribute</code></a></li>
<li><a href="#create-project-version">create project version: <code>create_project_version</code></a></li>
<li><a href="#download-artifact">download artifact: <code>download_artifact</code></a></li>
<li><a href="#download-artifact-scan">download artifact scan: <code>download_artifact_scan</code></a></li>
<li><a href="#get-artifact-scans">get artifact scans: <code>get_artifact_scans</code></a></li>
<li><a href="#get-attribute-definition">get attribute definition: <code>get_attribute_definition</code></a></li>
<li><a href="#get-attribute-definitions">get attribute definitions: <code>get_attribute_definitions</code></a></li>
<li><a href="#get-file-token">get file token: <code>get_file_token</code></a></li>
<li><a href="#get-issue-template">get issue template: <code>get_issue_template</code></a></li>
<li><a href="#get-project-version-artifacts">get project version artifacts: <code>get_project_version_artifacts</code></a></li>
<li><a href="#get-project-version-attributes">get project version attributes: <code>get_project_version_attributes</code></a></li>
<li><a href="#get-project-versions">get project versions: <code>get_project_versions</code></a></li>
<li><a href="#get-projects">get projects: <code>get_projects</code></a></li>
<li><a href="#get-token">get token: <code>get_token</code></a></li>
<li><a href="#post-attribute-definition">post attribute definition: <code>post_attribute_definition</code></a></li>
<li><a href="#upload-artifact-scan">upload artifact scan: <code>upload_artifact_scan</code></a></li>
</ul>
<h2 id="constructor">Constructor</h2>
<p>The constructor requires only one value - the host address of the Fortify API. All others are optional.</p>
<h4 id="required-parameters">Required parameters</h4>
<p><em>host</em> - The address of the Fortify API</p>
<h4 id="optional-parameters">Optional parameters</h4>
<p><em>username</em> - If the API is configured for basic auth, both username and password must be provided.<br>
<em>password</em> - If the API is configured for basic auth, both username and password must be provided.<br>
<em>token</em> - If an auth token is available (typically having previously called the get_token() method) the token can be used instead of username / password
<em>verify_ssl</em> - Defaults to false. To enable verification of an HTTPS connection to the API, set to True.<br>
<em>user_agent</em> - User agent for requests.<br>
<em>timeout</em> - Time in seconds to wait for a response from the Fortify API.</p>
<hr />
<h2 id="response-object">Response object</h2>
<p>All calls in this module return an object having the following properties and methods.</p>
<h3 id="properties">Properties</h3>
<p><em>success</em> - a boolean indicating if the call was successful or not. True indicates a successful call, while False indicates an unsuccessful call.<br>
<em>response_code</em> - the actual HTTP response code from the call to the Fortify server.<br>
<em>message</em> - if the call was successful, message is 'OK'. If the call was not successful, message is descriptive text of the failure. e.g. An SSL error occurred, etc.<br>
<em>data</em> - the data (if any) returned from the Fortify API.<br></p>
<h3 id="methods">Methods</h3>
<p><em>data_json()</em> - Returns object data as JSON. An optional boolean parameter (pretty), if set to True, will return pretty-formatted JSON.</p>
<p>Below is an example of constructing a FortifyAPI class, calling a method, and exploring the response.</p>
<pre><code class="language-python">
&gt;&gt;&gt; from fortifyapi import fortify

&gt;&gt;&gt; api = FortifyApi('https://fortify.example.com', verify_ssl=True, token=token)

&gt;&gt;&gt; response = api.get_projects()

&gt;&gt;&gt; response.success
True

&gt;&gt;&gt; response.response_code
200

&gt;&gt;&gt; response.message
'OK'

&gt;&gt;&gt; print response.data_json(pretty=True)
[
TODO: PUT EXAMPLE HERE
    ...</code></pre>
<hr />
<h3 id="add-project-version-attribute">Add Project Version Attribute:</h3>
<p>Add the specified attribute to the specified project, using the specified value/values</p>
<h4 id="parameters">Parameters</h4>
<p><em>project_version_id</em><br>
<em>param attribute_definition_id</em><br>
<em>guid</em><br>
<em>value</em><br>
<em>values</em></p>
<hr />
<h3 id="commit-project-version">Commit Project Version:</h3>
<p>Convenience function to set the 'committed' project version attribute to True</p>
<h4 id="parameters-1">Parameters</h4>
<p><em>project_version_id:</em></br></p>
<hr />
<h3 id="create-project-version">Create Project Version:</h3>
<p>Create a new project version under the specified project</p>
<h4 id="parameters-2">Parameters</h4>
<p><em>project_name</em></br>
<em>param project_id</em></br>
<em>param project_template</em></br>
<em>param version_name</em></br></p>
<hr />
<h3 id="download-artifact">Download Artifact:</h3>
<p>Download the specified artifact. The returned data is a binary blob of artifact content and file name of the artifact.</p>
<h4 id="parameters-3">Parameters</h4>
<p><em>artifact_id</em><br></p>
<h4 id="example">Example</h4>
<pre><code class="language-python">            api = FortifyApi("https://my-fortify-server:my-port", token=get_token())
            response, file_name = api.download_artifact_scan("my-id")
            if response.success:
                file_content = response.data
                with open('/path/to/some/folder/' + file_name, 'wb') as f:
                    f.write(file_content)
            else:
                print response.message</code></pre>
<hr />
<h3 id="download-artifact-scan">Download Artifact Scan:</h3>
<p>Download the specified scan. The returned data is a binary blob of scan content and file name of the scan.</p>
<h4 id="parameters-4">Parameters</h4>
<p><em>artifact_id</em><br></p>
<h4 id="example-1">Example</h4>
<pre><code class="language-python">            api = FortifyApi("https://my-fortify-server:my-port", token=get_token())
            response, file_name = api.download_artifact_scan("my-id")
            if response.success:
                file_content = response.data
                with open('/path/to/some/folder/' + file_name, 'wb') as f:
                    f.write(file_content)
            else:
                print response.message</code></pre>
<hr />
<h3 id="get-artifact-scans">Get Artifact Scans:</h3>
<p>Download a list of scans for the specified artifact.</p>
<h4 id="parameters-5">Parameters</h4>
<p><em>parent_id</em><br></p>
<hr />
<h3 id="get-attribute-definition">Get Attribute Definition:</h3>
<p>Get attribute definitions matching the specified search</p>
<h4 id="parameters-6">Parameters</h4>
<p><em>search_expression</em>  A Fortify-formatted search expression, e.g. name:&quot;Development Phase&quot;<br></p>
<hr />
<h3 id="get-attribute-definitions">Get Attribute Definitions:</h3>
<p>Get all attribute definitions.</p>
<h4 id="parameters-7">Parameters</h4>
<p>none<br></p>
<hr />
<h3 id="get-file-token">Get File Token:</h3>
<p>Get a token for use in upload or download of a file. Typically for internal use only, but here if needed.</p>
<h4 id="parameters-8">Parameters</h4>
<p><em>purpose</em> specify if the token is for file 'UPLOAD' or 'DOWNLOAD'<br></p>
<hr />
<h3 id="get-issue-template">Get Issue Template:</h3>
<p>Retrieve the specified project/issue template</p>
<h4 id="parameters-9">Parameters</h4>
<p><em>project_template_id</em> The project/issue template to retrieve.</p>
<hr />
<h3 id="get-project-version-artifacts">Get Project Version Artifacts</h3>
<p>Get all artifacts for the specified project version.</p>
<h4 id="parameters-10">Parameters</h4>
<p><em>parent_id</em> the id of the project version</p>
<hr />
<h3 id="get-project-version-attributes">Get Project Version Attributes</h3>
<p>Get all attributes for the specified project version.</p>
<h4 id="parameters-11">Parameters</h4>
<p><em>project_version_id</em> the id of the project version</p>
<hr />
<h3 id="get-project-versions">Get Project Versions</h3>
<p>Get all project versions</p>
<h4 id="parameters-12">Parameters</h4>
<p>none <br></p>
<hr />
<h3 id="get-projects">Get Projects</h3>
<p>Get all projects</p>
<h4 id="parameters-13">Parameters</h4>
<p>none <br></p>
<hr />
<h3 id="get-token">Get Token</h3>
<p>Get auth token for use in subsequent API calls</p>
<h4 id="parameters-14">Parameters</h4>
<p><em>token_type</em>(optional)<br>
<em>ttl</em></p>
<hr />
<h3 id="post-attribute-definition">Post Attribute Definition</h3>
<p>Post the provided attribute definition</p>
<h4 id="parameters-15">Parameters</h4>
<p><em>attribute_definition</em></p>
<hr />
<h3 id="upload-artifact-scan">Upload Artifact Scan</h3>
<p>Upload the provided scan to the project version</p>
<h4 id="parameters-16">Parameters</h4>
<p><em>file_path</em> Full path to the file to upload
<em>project_version_id</em> Project version id for the project version to which the scan should be uploaded</p>
<hr />
                </section>

            </div>
        </main>

        <footer>
            <div class="container">
                <p class="text-muted">
                    website generated with <a href="http://couscous.io" title="Markdown website generator">Couscous</a>
                </p>
            </div>
        </footer>

        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <script src="//yastatic.net/highlightjs/8.2/highlight.min.js"></script>

        <script>
            $(function() {
                $("section>h1").wrap('<div class="page-header" />');
                // Syntax highlighting
                hljs.initHighlightingOnLoad();
            });
        </script>

    </body>
</html>
